<!doctype html><html lang=en-us><head><title>Azuka</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The HTML5 Herald"><meta name=author content="Azuka"><link rel=alternate type=application/rss+xml href=https://azuka.github.io/index.xml title=Azuka><meta property="og:title" content="Azuka"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://azuka.github.io/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Azuka"><meta name=twitter:description content><meta name=generator content="Hugo 0.108.0"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin=anonymous><link rel=stylesheet href=https://azuka.github.io/fontawesome/css/all.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda"><link rel=stylesheet type=text/css href=/css/styles.css></head><body><div id=container><header><h1><a href=/>Azuka</a></h1><ul id=social-media><li><a href=https://github.com/Azuka title=GitHub><i class="fab fa-github fa-lg"></i></a></li><li><a href=https://gitlab.com/Azuka title=GitLab><i class="fab fa-gitlab fa-lg"></i></a></li><li><a href=https://twitter.com/zahymaka title=Twitter><i class="fab fa-twitter fa-lg"></i></a></li><li><a href=https://linkedin.com/in/Azuka title=LinkedIn><i class="fab fa-linkedin fa-lg"></i></a></li><li><a href=https://stackoverflow.com/users/66688/zahymaka title=StackOverflow><i class="fab fa-stack-overflow fa-lg"></i></a></li></ul><p><em>I like to tinker with things</em></p></header><nav><ul><li><a href=/posts/><i class="fa-li fa fa-lg"></i><span>Posts</span></a></li></ul></nav><main><section id=home><ul><li class=first><h1><a href=https://azuka.github.io/posts/post-0004-fun-with-the-ssh-a-flag/ title="Fun with php deployer and ssh">Fun with php deployer and ssh</a></h1><aside><ul><li><time class=post-date datetime=2022-12-19T23:37:38-08:00>Dec 19, 2022</time></li><li><em><a href=/tags/ssh>#ssh</a>
,
<a href=/tags/deployerphp>#deployerphp</a></em></li><li>3 minute read</li></ul></aside><p>A long, long time ago when my daily driver was a Windows machine, I used to deploy websites over ftp, then sftp. I remember SmartFTP being one of the first software tools I ever purchased.
In time (around 2011), I got introduced to Capistrano when I started doing continuous integration/delivery and setting up multiple environments for my projects.
Getting a consistent ruby ecosystem working for mostly php projects was annoying as I moved between Jenkins, Wercker (pre-Oracle), Shippable (before they got acquired by JFrog) and finally CircleCI.</p><a href=/posts/post-0004-fun-with-the-ssh-a-flag/>Read more…</a></li><li><h1><a href=https://azuka.github.io/posts/post-0003-a-billing-problem/ title="A billing problem based on assumptions">A billing problem based on assumptions</a></h1><aside><ul><li><time class=post-date datetime=2021-05-23T08:38:40-07:00>May 23, 2021</time></li><li><em><a href=/tags/sms>#sms</a></em></li><li>2 minute read</li></ul></aside><p>My partner and I started SingleSend a little over a year ago.
Everything we knew about SMS messages was that we had a 160-character limit, so dividing the number of characters in a message by 160 and rounding up would tell us how many messages to bill for. That held true until we got a $750 bill from Twilio last month which didn&rsquo;t quite match the sending statistics we saw.</p><a href=/posts/post-0003-a-billing-problem/>Read more…</a></li><li><h1><a href=https://azuka.github.io/posts/post-0002-that-minor-snafu-with-go-types/ title="That Minor SNAFU With Go Types">That Minor SNAFU With Go Types</a></h1><aside><ul><li><time class=post-date datetime=2020-02-28T09:42:14-08:00>Feb 28, 2020</time></li><li><em><a href=/tags/go>#go</a></em></li><li>2 minute read</li></ul></aside><p>Today&rsquo;s specimen:
type expectedError struct { error } func (e *expectedError) Cause() error { return e.error } func IsExpectedError(err error) bool { _, ok := err.(*expectedError) return ok } In one of my projects, I&rsquo;m using consul for distributed locking, to prevent processing an item twice from a queue worker.
My implementation looked something like the below:
import ( "context" "github.com/hashicorp/consul/api" "github.com/pkg/errors" "os" "time" ) type lock struct { db datasource.</p><a href=/posts/post-0002-that-minor-snafu-with-go-types/>Read more…</a></li><li><h1><a href=https://azuka.github.io/posts/post-0001-a-poor-guys-apm/ title="A Poor Guy's Local PHP Apm">A Poor Guy's Local PHP Apm</a></h1><aside><ul><li><time class=post-date datetime=2019-12-18T07:58:36-08:00>Dec 18, 2019</time></li><li><em><a href=/tags/instrumentation>#instrumentation</a>
,
<a href=/tags/opencensus>#opencensus</a>
,
<a href=/tags/jaeger>#jaeger</a>
,
<a href=/tags/php>#php</a></em></li><li>7 minute read</li></ul></aside><p>I&rsquo;ve seen the benefits of instrumenting code for a very long time: with PHP, Go, Frontend Javascript, and more recently, NodeJS.
When you have access to a full APM solution like I do at work (Newrelic), or on the side (with Elastic APM), it becomes easy to see at a glance not only what transactions (API calls, queued jobs, asynchronous processes, etc) are taking a long time, but also why.</p><a href=/posts/post-0001-a-poor-guys-apm/>Read more…</a></li></ul></section></main><footer><h6>|
Rendered by <a href=https://gohugo.io title=Hugo>Hugo</a> |
<a href=https://azuka.github.io/index.xml>Subscribe</a></h6></footer></div><script src=/js/scripts.js></script></body></html>